openapi: '3.0.0'
info:
  version: 1.0.0
  title: Respira for WordPress REST API
  license:
    name: MIT
servers:
  - url: https://your-site.com/wp-json/respira/v1
paths:
  /site/context:
    get:
      summary: Get site context
      operationId: getSiteContext
      responses:
        200:
          description: Site context information
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /pages:
    get:
      summary: List all pages
      operationId: listPages
      responses:
        200:
          description: List of pages
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
    post:
      summary: Update a page
      operationId: updatePage
      responses:
        201:
          description: Page update successful
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /pages/{id}:
    get:
      summary: Get a specific page
      operationId: getPage
      parameters:
        - name: id
          in: path
          required: true
          description: Page ID
          schema:
            type: string
      responses:
        200:
          description: Page information
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /plugins:
    get:
      summary: List installed plugins
      operationId: listPlugins
      responses:
        200:
          description: List of plugins
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
components:
  schemas:
    SiteContext:
      required:
        - name
      properties:
        name:
          type: string
        theme:
          type: string
        plugins:
          type: array
          items:
            type: string
    Page:
      required:
        - id
        - title
      properties:
        id:
          type: integer
          format: int64
        title:
          type: string
        content:
          type: string
    Plugin:
      required:
        - slug
        - name
      properties:
        slug:
          type: string
        name:
          type: string
        version:
          type: string
        active:
          type: boolean
    SuccessResponse:
      required:
        - success
        - data
      properties:
        success:
          type: boolean
        data:
          type: object
    ErrorResponse:
      required:
        - success
        - message
      properties:
        success:
          type: boolean
        message:
          type: string